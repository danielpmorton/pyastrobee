
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.4">
    
    
      
        <title>Debug Visualizer - pyastrobee</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.80dcb947.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue-grey" data-md-color-accent="pink">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-pyastrobeeutilsdebug_visualizer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="pyastrobee" class="md-header__button md-logo" aria-label="pyastrobee" data-md-component="logo">
      
  <img src="../../../../images/favicon_large.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyastrobee
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Debug Visualizer
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/danielpmorton/pyastrobee" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pyastrobee
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="pyastrobee" class="md-nav__button md-logo" aria-label="pyastrobee" data-md-component="logo">
      
  <img src="../../../../images/favicon_large.png" alt="logo">

    </a>
    pyastrobee
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/danielpmorton/pyastrobee" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pyastrobee
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/additional_installs/" class="md-nav__link">
        Additional Installs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/bag_dynamics/" class="md-nav__link">
        Bag Dynamics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/loading_iss_meshes/" class="md-nav__link">
        Loading Iss Meshes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/meshing/" class="md-nav__link">
        Meshing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/nasa_sim/" class="md-nav__link">
        Nasa Sim
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/pybullet_tips/" class="md-nav__link">
        Pybullet Tips
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/retexturing/" class="md-nav__link">
        Retexturing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/tet_meshing/" class="md-nav__link">
        Tet Meshing
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1" type="checkbox" id="__nav_14_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1">
          Pyastrobee
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pyastrobee" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_1">
          <span class="md-nav__icon md-icon"></span>
          Pyastrobee
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_2" type="checkbox" id="__nav_14_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_2">
          Config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Config" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_2">
          <span class="md-nav__icon md-icon"></span>
          Config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/astrobee_geom/" class="md-nav__link">
        Astrobee Geom
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/astrobee_motion/" class="md-nav__link">
        Astrobee Motion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/astrobee_transforms/" class="md-nav__link">
        Astrobee Transforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/bag_properties/" class="md-nav__link">
        Bag Properties
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/iss_paths/" class="md-nav__link">
        Iss Paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/iss_safe_boxes/" class="md-nav__link">
        Iss Safe Boxes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_3" type="checkbox" id="__nav_14_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_3">
          Control
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Control" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_3">
          <span class="md-nav__icon md-icon"></span>
          Control
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/attitude_dynamics/" class="md-nav__link">
        Attitude Dynamics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/controller/" class="md-nav__link">
        Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/cost_functions/" class="md-nav__link">
        Cost Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/dlqr_test/" class="md-nav__link">
        Dlqr Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/force_torque_control/" class="md-nav__link">
        Force Torque Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/keyboard_controller/" class="md-nav__link">
        Keyboard Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/mpc/" class="md-nav__link">
        Mpc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/multi_robot/" class="md-nav__link">
        Multi Robot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/operational_space_control/" class="md-nav__link">
        Operational Space Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/parallel_mpc/" class="md-nav__link">
        Parallel Mpc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/physics_models/" class="md-nav__link">
        Physics Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../control/pid/" class="md-nav__link">
        Pid
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4" type="checkbox" id="__nav_14_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_4">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_4">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/abstract_bag/" class="md-nav__link">
        Abstract Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/astrobee/" class="md-nav__link">
        Astrobee
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/composite_bag/" class="md-nav__link">
        Composite Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/constraint_bag/" class="md-nav__link">
        Constraint Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/deformable_bag/" class="md-nav__link">
        Deformable Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/environments/" class="md-nav__link">
        Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/hybrid_bag/" class="md-nav__link">
        Hybrid Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/iss/" class="md-nav__link">
        Iss
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/rigid_bag/" class="md-nav__link">
        Rigid Bag
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_5" type="checkbox" id="__nav_14_1_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_5">
          Trajectories
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Trajectories" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_5">
          <span class="md-nav__icon md-icon"></span>
          Trajectories
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/arm_planner/" class="md-nav__link">
        Arm Planner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/bezier/" class="md-nav__link">
        Bezier
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/bezier_slerp/" class="md-nav__link">
        Bezier Slerp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/box_paths/" class="md-nav__link">
        Box Paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/curve_utils/" class="md-nav__link">
        Curve Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/decasteljau_slerp/" class="md-nav__link">
        Decasteljau Slerp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/face_forward/" class="md-nav__link">
        Face Forward
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/multi_robot_trajs/" class="md-nav__link">
        Multi Robot Trajs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/planner/" class="md-nav__link">
        Planner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/polynomials/" class="md-nav__link">
        Polynomials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/quaternion_interpolation/" class="md-nav__link">
        Quaternion Interpolation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/sampling/" class="md-nav__link">
        Sampling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/simple_trajectories/" class="md-nav__link">
        Simple Trajectories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/splines/" class="md-nav__link">
        Splines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/timing/" class="md-nav__link">
        Timing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/trajectory/" class="md-nav__link">
        Trajectory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trajectories/variable_time_curves/" class="md-nav__link">
        Variable Time Curves
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_6" type="checkbox" id="__nav_14_1_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_6">
          Utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_6">
          <span class="md-nav__icon md-icon"></span>
          Utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../algos/" class="md-nav__link">
        Algos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bag_frame/" class="md-nav__link">
        Bag Frame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../boxes/" class="md-nav__link">
        Boxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bullet_utils/" class="md-nav__link">
        Bullet Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../camera_utils/" class="md-nav__link">
        Camera Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../coordinates/" class="md-nav__link">
        Coordinates
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Debug Visualizer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Debug Visualizer
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animate_path" class="md-nav__link">
    animate_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animate_rotation" class="md-nav__link">
    animate_rotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_viz_camera_params" class="md-nav__link">
    get_viz_camera_params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_debug_objects" class="md-nav__link">
    remove_debug_objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_frame" class="md-nav__link">
    visualize_frame
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_link_frame" class="md-nav__link">
    visualize_link_frame
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_path" class="md-nav__link">
    visualize_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_points" class="md-nav__link">
    visualize_points
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_quaternion" class="md-nav__link">
    visualize_quaternion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dynamics/" class="md-nav__link">
        Dynamics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../math_utils/" class="md-nav__link">
        Math Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mesh_utils/" class="md-nav__link">
        Mesh Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/" class="md-nav__link">
        Plotting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../poses/" class="md-nav__link">
        Poses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../process_camera/" class="md-nav__link">
        Process Camera
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python_utils/" class="md-nav__link">
        Python Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quaternion_class/" class="md-nav__link">
        Quaternion Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quaternion_derivatives/" class="md-nav__link">
        Quaternion Derivatives
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quaternions/" class="md-nav__link">
        Quaternions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rotations/" class="md-nav__link">
        Rotations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformations/" class="md-nav__link">
        Transformations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../video_concatenation/" class="md-nav__link">
        Video Concatenation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_7" type="checkbox" id="__nav_14_1_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1_7">
          Vision
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Vision" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_7">
          <span class="md-nav__icon md-icon"></span>
          Vision
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vision/camera/" class="md-nav__link">
        Camera
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vision/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animate_path" class="md-nav__link">
    animate_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animate_rotation" class="md-nav__link">
    animate_rotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_viz_camera_params" class="md-nav__link">
    get_viz_camera_params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_debug_objects" class="md-nav__link">
    remove_debug_objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_frame" class="md-nav__link">
    visualize_frame
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_link_frame" class="md-nav__link">
    visualize_link_frame
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_path" class="md-nav__link">
    visualize_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_points" class="md-nav__link">
    visualize_points
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize_quaternion" class="md-nav__link">
    visualize_quaternion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/danielpmorton/pyastrobee/edit/main/reference/pyastrobee/utils/debug_visualizer.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="module-pyastrobeeutilsdebug_visualizer">Module pyastrobee.utils.debug_visualizer</h1>
<p>Functions associated with the Pybullet Debug Visualizer GUI</p>
<p>NOTE
- For the GUI camera parameters, since the debug visualizer only specifies yaw and pitch (no roll),
  this is an incomplete definition of rotation, so we can never actually fully change the rotation
  of the debug viz camera to match the robot's position
    - This is not a huge deal, it will just mean we will have at best a "video game perspective" of the robot</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;Functions associated with the Pybullet Debug Visualizer GUI</span>

<span class="sd">NOTE</span>

<span class="sd">- For the GUI camera parameters, since the debug visualizer only specifies yaw and pitch (no roll),</span>

<span class="sd">  this is an incomplete definition of rotation, so we can never actually fully change the rotation</span>

<span class="sd">  of the debug viz camera to match the robot&#39;s position</span>

<span class="sd">    - This is not a huge deal, it will just mean we will have at best a &quot;video game perspective&quot; of the robot</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">numpy.typing</span> <span class="k">as</span> <span class="nn">npt</span>

<span class="kn">import</span> <span class="nn">pybullet</span>

<span class="kn">from</span> <span class="nn">pybullet_utils.bullet_client</span> <span class="kn">import</span> <span class="n">BulletClient</span>

<span class="kn">from</span> <span class="nn">pyastrobee.core.astrobee</span> <span class="kn">import</span> <span class="n">Astrobee</span>

<span class="kn">from</span> <span class="nn">pyastrobee.utils.rotations</span> <span class="kn">import</span> <span class="p">(</span>

    <span class="n">quat_to_fixed_xyz</span><span class="p">,</span>

    <span class="n">fixed_xyz_to_quat</span><span class="p">,</span>

    <span class="n">fixed_xyz_to_rmat</span><span class="p">,</span>

    <span class="n">quat_to_rmat</span><span class="p">,</span>

<span class="p">)</span>

<span class="kn">from</span> <span class="nn">pyastrobee.utils.poses</span> <span class="kn">import</span> <span class="n">pos_quat_to_tmat</span>

<span class="kn">from</span> <span class="nn">pyastrobee.utils.transformations</span> <span class="kn">import</span> <span class="n">make_transform_mat</span>

<span class="kn">from</span> <span class="nn">pyastrobee.utils.coordinates</span> <span class="kn">import</span> <span class="n">cartesian_to_spherical</span>

<span class="kn">from</span> <span class="nn">pyastrobee.config.astrobee_transforms</span> <span class="kn">import</span> <span class="n">OBSERVATION_CAM</span>

<span class="kn">from</span> <span class="nn">pyastrobee.control.controller</span> <span class="kn">import</span> <span class="n">PoseController</span>

<span class="kn">from</span> <span class="nn">pyastrobee.utils.bullet_utils</span> <span class="kn">import</span> <span class="n">create_box</span>

<span class="k">def</span> <span class="nf">visualize_points</span><span class="p">(</span>

    <span class="n">position</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="n">color</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="kp">size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>

    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds square points to the GUI to visualize positions in the sim</span>

<span class="sd">    Args:</span>

<span class="sd">        position (npt.ArrayLike): 3D point(s) in the simulation to visualize. Shape (n, 3)</span>

<span class="sd">        color (npt.ArrayLike): RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,</span>

<span class="sd">            or (n, 3) to individually specify the colors per-point</span>

<span class="sd">        size (float): Size of the points on the GUI, in pixels. Defaults to 20</span>

<span class="sd">        lifetime (float, optional): Amount of time to keep the points on the GUI, in seconds.</span>

<span class="sd">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    Returns:</span>

<span class="sd">        int: Pybullet object ID for the point / point cloud</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="c1"># Pybullet will crash if you try to visualize one point without packing it into a 2D array</span>

    <span class="n">position</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>

    <span class="n">color</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">position</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

            <span class="sa">f</span><span class="s2">&quot;Invalid shape of the point positions. Expected (n, 3), got: </span><span class="si">{</span><span class="n">position</span><span class="o">.</span><span class="kp">shape</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="p">)</span>

    <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

            <span class="sa">f</span><span class="s2">&quot;Invalid shape of the colors. Expected (n, 3), got: </span><span class="si">{</span><span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="p">)</span>

    <span class="n">n</span> <span class="o">=</span> <span class="n">position</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">n</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>

            <span class="c1"># Map the same color to all of the points</span>

            <span class="n">color</span> <span class="o">=</span> <span class="n">color</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="kp">ones_like</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

                <span class="sa">f</span><span class="s2">&quot;Number of colors (</span><span class="si">{</span><span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">) does not match the number of points (</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">).&quot;</span>

            <span class="p">)</span>

    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugPoints</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="kp">size</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">visualize_frame</span><span class="p">(</span>

    <span class="n">tmat</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>

    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>

    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>

    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds RGB XYZ axes to the Pybullet GUI for a speficied transformation/frame/pose</span>

<span class="sd">    Args:</span>

<span class="sd">        tmat (np.ndarray): Transformation matrix specifying a pose w.r.t world frame, shape (4, 4)</span>

<span class="sd">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="sd">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="sd">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="sd">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    Returns:</span>

<span class="sd">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="n">x_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># R</span>

    <span class="n">y_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># G</span>

    <span class="n">z_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># B</span>

    <span class="n">origin</span> <span class="o">=</span> <span class="n">tmat</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="n">x_endpt</span> <span class="o">=</span> <span class="n">origin</span> <span class="o">+</span> <span class="n">tmat</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">y_endpt</span> <span class="o">=</span> <span class="n">origin</span> <span class="o">+</span> <span class="n">tmat</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">z_endpt</span> <span class="o">=</span> <span class="n">origin</span> <span class="o">+</span> <span class="n">tmat</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">x_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">x_endpt</span><span class="p">,</span> <span class="n">x_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>

    <span class="n">y_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">y_endpt</span><span class="p">,</span> <span class="n">y_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>

    <span class="n">z_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">z_endpt</span><span class="p">,</span> <span class="n">z_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">x_ax_id</span><span class="p">,</span> <span class="n">y_ax_id</span><span class="p">,</span> <span class="n">z_ax_id</span>

<span class="k">def</span> <span class="nf">visualize_link_frame</span><span class="p">(</span>

    <span class="n">robot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>

    <span class="n">link_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>

    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>

    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>

    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds RGB XYZ axes to the Pybullet GUI for a specific link on the Astrobee</span>

<span class="sd">    Args:</span>

<span class="sd">        robot_id (int): Pybullet ID of the Astrobee</span>

<span class="sd">        link_id (int): ID of the link we want to look at</span>

<span class="sd">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="sd">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="sd">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="sd">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    Returns:</span>

<span class="sd">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="n">x_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># R</span>

    <span class="n">y_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># G</span>

    <span class="n">z_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># B</span>

    <span class="n">origin</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="n">x_endpt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">y_endpt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">z_endpt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">length</span>

    <span class="n">x_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

        <span class="n">origin</span><span class="p">,</span> <span class="n">x_endpt</span><span class="p">,</span> <span class="n">x_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">robot_id</span><span class="p">,</span> <span class="n">link_id</span>

    <span class="p">)</span>

    <span class="n">y_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

        <span class="n">origin</span><span class="p">,</span> <span class="n">y_endpt</span><span class="p">,</span> <span class="n">y_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">robot_id</span><span class="p">,</span> <span class="n">link_id</span>

    <span class="p">)</span>

    <span class="n">z_ax_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

        <span class="n">origin</span><span class="p">,</span> <span class="n">z_endpt</span><span class="p">,</span> <span class="n">z_color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">robot_id</span><span class="p">,</span> <span class="n">link_id</span>

    <span class="p">)</span>

    <span class="k">return</span> <span class="n">x_ax_id</span><span class="p">,</span> <span class="n">y_ax_id</span><span class="p">,</span> <span class="n">z_ax_id</span>

<span class="k">def</span> <span class="nf">visualize_quaternion</span><span class="p">(</span>

    <span class="n">quat</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>

    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>

    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrapper around visualize_frame specifically for debugging quaternions. Shows the rotated frame at the origin</span>

<span class="sd">    Args:</span>

<span class="sd">        quat (npt.ArrayLike): XYZW quaternion, shape (4,)</span>

<span class="sd">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="sd">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="sd">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="sd">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    Returns:</span>

<span class="sd">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">rmat</span> <span class="o">=</span> <span class="n">quat_to_rmat</span><span class="p">(</span><span class="n">quat</span><span class="p">)</span>

    <span class="n">tmat</span> <span class="o">=</span> <span class="n">make_transform_mat</span><span class="p">(</span><span class="n">rmat</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">visualize_frame</span><span class="p">(</span><span class="n">tmat</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">visualize_path</span><span class="p">(</span>

    <span class="n">positions</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

    <span class="n">color</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>

    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>

    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Visualize a sequence of positions on the Pybullet GUI</span>

<span class="sd">    Args:</span>

<span class="sd">        positions (npt.ArrayLike): Sequence of positions, shape (n, 3)</span>

<span class="sd">        n (Optional[int]): Number of lines to plot, if plotting the lines between all positions is not desired.</span>

<span class="sd">            Defaults to None (plot all lines between positions)</span>

<span class="sd">        color (npt.ArrayLike, optional): RGB color values. Defaults to (1, 0, 0) (red).</span>

<span class="sd">        width (float, optional): Width of the line. Defaults to 3 (pixels)</span>

<span class="sd">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="sd">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    Returns:</span>

<span class="sd">        list[int]: Pybullet IDs of the lines added to the GUI</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="n">positions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

    <span class="n">n_positions</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="kp">shape</span>

    <span class="k">assert</span> <span class="n">dim</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="c1"># If desired, sample frames evenly across the trajectory to plot a subset</span>

    <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">n_positions</span><span class="p">:</span>

        <span class="c1"># This indexing ensures that the first and last frames are plotted</span>

        <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="kp">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_positions</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="kp">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

        <span class="n">positions</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="p">:]</span>

    <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">positions</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>

        <span class="n">ids</span><span class="o">.</span><span class="kp">append</span><span class="p">(</span>

            <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

                <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">lifetime</span>

            <span class="p">)</span>

        <span class="p">)</span>

    <span class="k">return</span> <span class="n">ids</span>

<span class="k">def</span> <span class="nf">animate_path</span><span class="p">(</span>

    <span class="n">positions</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="n">duration</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>

    <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

    <span class="n">color</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>

    <span class="kp">size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Animates a point moving along a sequence of positions</span>

<span class="sd">    Args:</span>

<span class="sd">        positions (npt.ArrayLike): Path to animate, shape (n, 3)</span>

<span class="sd">        duration (float): Desired duration of the animation</span>

<span class="sd">        n (Optional[int]): Number of points to use in the animation, if using all of the provided positions will be too</span>

<span class="sd">            slow. Defaults to None (animate all points)</span>

<span class="sd">        color (npt.ArrayLike): RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,</span>

<span class="sd">            or (n, 3) to individually specify the colors per-point</span>

<span class="sd">        size (float): Size of the points on the GUI, in pixels. Defaults to 20</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="c1"># Pybullet will crash if you try to visualize one point without packing it into a 2D array</span>

    <span class="n">positions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

    <span class="n">n_positions</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="kp">shape</span>

    <span class="k">if</span> <span class="n">dim</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

            <span class="sa">f</span><span class="s2">&quot;Invalid shape of the point positions. Expected (n, 3), got: </span><span class="si">{</span><span class="n">positions</span><span class="o">.</span><span class="kp">shape</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="p">)</span>

    <span class="n">color</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

            <span class="sa">f</span><span class="s2">&quot;Invalid shape of the colors. Expected (n, 3), got: </span><span class="si">{</span><span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="p">)</span>

    <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">n_positions</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>

            <span class="c1"># Map the same color to all of the points</span>

            <span class="n">color</span> <span class="o">=</span> <span class="n">color</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="kp">ones_like</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>

                <span class="sa">f</span><span class="s2">&quot;Number of colors (</span><span class="si">{</span><span class="n">color</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">) does not match the number of points (</span><span class="si">{</span><span class="n">n_positions</span><span class="si">}</span><span class="s2">).&quot;</span>

            <span class="p">)</span>

    <span class="c1"># Downsample the points if desired</span>

    <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">n_positions</span><span class="p">:</span>

        <span class="c1"># This indexing ensures that the first and last frames are plotted</span>

        <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="kp">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_positions</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="kp">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

        <span class="n">positions</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="p">:]</span>

        <span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="p">:]</span>

        <span class="n">n_positions</span> <span class="o">=</span> <span class="n">n</span>

    <span class="n">uid</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_positions</span><span class="p">):</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">uid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="n">uid</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugPoints</span><span class="p">([</span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="p">[</span><span class="n">color</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="kp">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">uid</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">addUserDebugPoints</span><span class="p">(</span>

                <span class="p">[</span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="p">[</span><span class="n">color</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="kp">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">replaceItemUniqueId</span><span class="o">=</span><span class="n">uid</span>

            <span class="p">)</span>

        <span class="n">client</span><span class="o">.</span><span class="n">stepSimulation</span><span class="p">()</span>

        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">duration</span> <span class="o">/</span> <span class="n">n_positions</span> <span class="o">-</span> <span class="n">elapsed_time</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">animate_rotation</span><span class="p">(</span>

    <span class="n">quats</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">ArrayLike</span><span class="p">,</span>

    <span class="n">duration</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>

    <span class="n">object_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

<span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Animates an object rotating via a sequence of quaternions</span>

<span class="sd">    Args:</span>

<span class="sd">        quats (npt.ArrayLike): Quaternions to animate, shape (n, 4)</span>

<span class="sd">        duration (float): Desired duration of the animation</span>

<span class="sd">        object_id (Optional[int]): If you would like to animate the rotation using a specific object, pass in its</span>

<span class="sd">            Pybullet ID here. Defaults to None (use a cube as the default object).</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="k">if</span> <span class="n">object_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">object_id</span> <span class="o">=</span> <span class="n">create_box</span><span class="p">(</span>

            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="kc">True</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="n">client</span>

        <span class="p">)</span>

    <span class="n">pos</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getBasePositionAndOrientation</span><span class="p">(</span><span class="n">object_id</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">quats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">atleast_2d</span><span class="p">(</span><span class="n">quats</span><span class="p">)</span>

    <span class="n">n</span> <span class="o">=</span> <span class="n">quats</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">quat</span> <span class="ow">in</span> <span class="n">quats</span><span class="p">:</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="n">pybullet</span><span class="o">.</span><span class="n">resetBasePositionAndOrientation</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">quat</span><span class="p">)</span>

        <span class="n">pybullet</span><span class="o">.</span><span class="n">stepSimulation</span><span class="p">()</span>

        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">duration</span> <span class="o">/</span> <span class="n">n</span> <span class="o">-</span> <span class="n">elapsed_time</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">remove_debug_objects</span><span class="p">(</span>

    <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes user-created line(s)/point(s)/etc. from the Pybullet GUI</span>

<span class="sd">    Args:</span>

<span class="sd">        ids (int or list/array of ints): ID(s) of the objects loaded into Pybullet</span>

<span class="sd">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="sd">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">pybullet</span> <span class="o">=</span> <span class="n">pybullet</span> <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client</span>

    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="kp">ndim</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Scalar, not iterable</span>

        <span class="n">client</span><span class="o">.</span><span class="n">removeUserDebugItem</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>

        <span class="n">client</span><span class="o">.</span><span class="n">removeUserDebugItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_viz_camera_params</span><span class="p">(</span>

    <span class="n">T_R2W</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">T_C2R</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the debug visualizer camera position for a specified robot-frame camera view</span>

<span class="sd">    Args:</span>

<span class="sd">        T_R2W (np.ndarray): Robot to World transformation matrix, shape (4,4). This input is</span>

<span class="sd">            equivalent to the current robot pose (just expressed in tmat form)</span>

<span class="sd">        T_C2R (np.ndarray, optional): Camera to Robot transformation matrix, shape (4, 4). This input dictates</span>

<span class="sd">            the perspective from which we observe the robot. Defaults to the OBSERVATION_CAM constant</span>

<span class="sd">    Returns:</span>

<span class="sd">        tuple[float, float, float, np.ndarray]:</span>

<span class="sd">            float: Distance: The distance to the camera&#39;s focus point</span>

<span class="sd">            float: Yaw: The rotation angle about the Z axis</span>

<span class="sd">            float: Pitch: The angle of the camera as measured above/below the XY plane</span>

<span class="sd">            np.ndarray: Target: The camera focus point in world coords. Shape (3,)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">T_C2R</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">T_C2R</span> <span class="o">=</span> <span class="n">OBSERVATION_CAM</span>

    <span class="n">R_R2W</span> <span class="o">=</span> <span class="n">T_R2W</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># Robot to world rotation matrix</span>

    <span class="n">robot_to_cam_robot_pos</span> <span class="o">=</span> <span class="n">T_C2R</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="n">robot_to_cam_world_pos</span> <span class="o">=</span> <span class="n">R_R2W</span> <span class="o">@</span> <span class="n">robot_to_cam_robot_pos</span>

    <span class="n">cam_to_robot_world_pos</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">robot_to_cam_world_pos</span>

    <span class="c1"># Determine the direction the camera points via the vector from camera -&gt; robot origin in world frame</span>

    <span class="n">dist</span><span class="p">,</span> <span class="n">elevation</span><span class="p">,</span> <span class="n">azimuth</span> <span class="o">=</span> <span class="n">cartesian_to_spherical</span><span class="p">(</span><span class="n">cam_to_robot_world_pos</span><span class="p">)</span>

    <span class="c1"># Elevation is measured w.r.t +Z, so we need to change this to w.r.t the XY plane</span>

    <span class="c1"># Pybullet also works with the camera angle definitions in degrees, not radians</span>

    <span class="n">pitch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">elevation</span><span class="p">)</span>

    <span class="c1"># There seems to be a fixed -90 degree offset in how pybullet defines yaw (TODO test this)</span>

    <span class="n">yaw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">azimuth</span><span class="p">)</span> <span class="o">-</span> <span class="mi">90</span>

    <span class="n">robot_world_pos</span> <span class="o">=</span> <span class="n">T_R2W</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="n">target</span> <span class="o">=</span> <span class="n">robot_world_pos</span>

    <span class="k">return</span> <span class="n">dist</span><span class="p">,</span> <span class="n">yaw</span><span class="p">,</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">target</span>

<span class="k">def</span> <span class="nf">_main</span><span class="p">():</span>

    <span class="c1"># Quick test if the debug visualizer camera parameters are able to track the robot motion</span>

    <span class="n">pybullet</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">pybullet</span><span class="o">.</span><span class="n">GUI</span><span class="p">)</span>

    <span class="n">robot</span> <span class="o">=</span> <span class="n">Astrobee</span><span class="p">()</span>

    <span class="n">controller</span> <span class="o">=</span> <span class="n">PoseController</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>

    <span class="n">R</span> <span class="o">=</span> <span class="n">fixed_xyz_to_rmat</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

    <span class="n">C2R</span> <span class="o">=</span> <span class="n">make_transform_mat</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>

    <span class="n">pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

    <span class="n">orn</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

        <span class="n">R2W</span> <span class="o">=</span> <span class="n">pos_quat_to_tmat</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>

        <span class="n">d</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">get_viz_camera_params</span><span class="p">(</span><span class="n">R2W</span><span class="p">,</span> <span class="n">C2R</span><span class="p">)</span>

        <span class="c1"># print(f&quot;Dist = {d}&quot;)</span>

        <span class="c1"># print(f&quot;Yaw = {y}&quot;)</span>

        <span class="c1"># print(f&quot;Pitch = {p}&quot;)</span>

        <span class="c1"># print(f&quot;Target = {t}&quot;)</span>

        <span class="n">pos</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

        <span class="n">orn</span> <span class="o">=</span> <span class="n">quat_to_fixed_xyz</span><span class="p">(</span><span class="n">orn</span><span class="p">)</span>

        <span class="n">orn</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

        <span class="n">orn</span> <span class="o">=</span> <span class="n">fixed_xyz_to_quat</span><span class="p">(</span><span class="n">orn</span><span class="p">)</span>

        <span class="c1"># orn += 0.1 * np.random.rand(4) + orn</span>

        <span class="c1"># orn = orn / np.linalg.norm(orn)</span>

        <span class="n">pybullet</span><span class="o">.</span><span class="n">resetDebugVisualizerCamera</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

        <span class="n">pybullet</span><span class="o">.</span><span class="n">changeConstraint</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">constraint_id</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">orn</span><span class="p">)</span>

        <span class="n">pybullet</span><span class="o">.</span><span class="n">stepSimulation</span><span class="p">()</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">20</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="n">_main</span><span class="p">()</span>
</code></pre></div>

</details>
<h2 id="variables">Variables</h2>
<div class="codehilite"><pre><span></span><code><span class="n">OBSERVATION_CAM</span>
</code></pre></div>

<h2 id="functions">Functions</h2>
<h3 id="animate_path">animate_path</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">animate_path</span><span class="p">(</span>
    <span class="n">positions</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">duration</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>

<p>Animates a point moving along a sequence of positions</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>positions</td>
<td>npt.ArrayLike</td>
<td>Path to animate, shape (n, 3)</td>
<td>None</td>
</tr>
<tr>
<td>duration</td>
<td>float</td>
<td>Desired duration of the animation</td>
<td>None</td>
</tr>
<tr>
<td>n</td>
<td>Optional[int]</td>
<td>Number of points to use in the animation, if using all of the provided positions will be too<br>slow. Defaults to None (animate all points)</td>
<td>None</td>
</tr>
<tr>
<td>color</td>
<td>npt.ArrayLike</td>
<td>RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,<br>or (n, 3) to individually specify the colors per-point</td>
<td>None</td>
</tr>
<tr>
<td>size</td>
<td>float</td>
<td>Size of the points on the GUI, in pixels. Defaults to 20</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">animate_path</span><span class="p">(</span>

<span class="w">    </span><span class="nl">positions</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="nl">duration</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="p">,</span>

<span class="w">    </span><span class="nl">n</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="w">    </span><span class="nl">color</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>

<span class="w">    </span><span class="k">size</span><span class="err">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Animates a point moving along a sequence of positions</span>

<span class="ss">    Args:</span>

<span class="ss">        positions (npt.ArrayLike): Path to animate, shape (n, 3)</span>

<span class="ss">        duration (float): Desired duration of the animation</span>

<span class="ss">        n (Optional[int]): Number of points to use in the animation, if using all of the provided positions will be too</span>

<span class="ss">            slow. Defaults to None (animate all points)</span>

<span class="ss">        color (npt.ArrayLike): RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,</span>

<span class="ss">            or (n, 3) to individually specify the colors per-point</span>

<span class="ss">        size (float): Size of the points on the GUI, in pixels. Defaults to 20</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">Pybullet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">crash</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">visualize</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">packing</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">2</span><span class="n">D</span><span class="w"> </span><span class="k">array</span>

<span class="w">    </span><span class="n">positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

<span class="w">    </span><span class="n">n_positions</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">shape</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">dim</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>

<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">            </span><span class="n">f</span><span class="ss">&quot;Invalid shape of the point positions. Expected (n, 3), got: {positions.shape}&quot;</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">-1</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>

<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">            </span><span class="n">f</span><span class="ss">&quot;Invalid shape of the colors. Expected (n, 3), got: {color.shape}&quot;</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nl">n_positions</span><span class="p">:</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="k">Map</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">points</span>

<span class="w">            </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span>

<span class="w">            </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">                </span><span class="n">f</span><span class="ss">&quot;Number of colors ({color.shape[0]}) does not match the number of points ({n_positions}).&quot;</span>

<span class="w">            </span><span class="p">)</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">Downsample</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">desired</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nl">n_positions</span><span class="p">:</span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">indexing</span><span class="w"> </span><span class="n">ensures</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">plotted</span>

<span class="w">        </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n_positions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint</span><span class="o">=</span><span class="k">True</span><span class="p">)).</span><span class="n">astype</span><span class="p">(</span><span class="nc">int</span><span class="p">)</span>

<span class="w">        </span><span class="n">positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="o">[</span><span class="n">idx, :</span><span class="o">]</span>

<span class="w">        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="o">[</span><span class="n">idx, :</span><span class="o">]</span>

<span class="w">        </span><span class="n">n_positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span>

<span class="w">    </span><span class="n">uid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="n">n_positions</span><span class="p">)</span><span class="err">:</span>

<span class="w">        </span><span class="n">start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">time</span><span class="p">.</span><span class="nc">time</span><span class="p">()</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">uid</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span>

<span class="w">            </span><span class="n">uid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugPoints</span><span class="p">(</span><span class="o">[</span><span class="n">positions[i</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">color[i</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span>

<span class="w">            </span><span class="n">uid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugPoints</span><span class="p">(</span>

<span class="w">                </span><span class="o">[</span><span class="n">positions[i</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">color[i</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">replaceItemUniqueId</span><span class="o">=</span><span class="n">uid</span>

<span class="w">            </span><span class="p">)</span>

<span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="n">stepSimulation</span><span class="p">()</span>

<span class="w">        </span><span class="n">elapsed_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">time</span><span class="p">.</span><span class="nc">time</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span>

<span class="w">        </span><span class="nc">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">n_positions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">elapsed_time</span><span class="p">))</span>
</code></pre></div>

</details>
<h3 id="animate_rotation">animate_rotation</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">animate_rotation</span><span class="p">(</span>
    <span class="n">quats</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">duration</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">object_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>

<p>Animates an object rotating via a sequence of quaternions</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>quats</td>
<td>npt.ArrayLike</td>
<td>Quaternions to animate, shape (n, 4)</td>
<td>None</td>
</tr>
<tr>
<td>duration</td>
<td>float</td>
<td>Desired duration of the animation</td>
<td>None</td>
</tr>
<tr>
<td>object_id</td>
<td>Optional[int]</td>
<td>If you would like to animate the rotation using a specific object, pass in its<br>Pybullet ID here. Defaults to None (use a cube as the default object).</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">animate_rotation</span><span class="p">(</span>

<span class="w">    </span><span class="nl">quats</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="nl">duration</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="p">,</span>

<span class="w">    </span><span class="nf">object_id</span><span class="err">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Animates an object rotating via a sequence of quaternions</span>

<span class="ss">    Args:</span>

<span class="ss">        quats (npt.ArrayLike): Quaternions to animate, shape (n, 4)</span>

<span class="ss">        duration (float): Desired duration of the animation</span>

<span class="ss">        object_id (Optional[int]): If you would like to animate the rotation using a specific object, pass in its</span>

<span class="ss">            Pybullet ID here. Defaults to None (use a cube as the default object).</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nf">object_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span>

<span class="w">        </span><span class="nf">object_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_box</span><span class="p">(</span>

<span class="w">            </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">True</span><span class="p">,</span><span class="w"> </span><span class="n">client</span><span class="o">=</span><span class="n">client</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">getBasePositionAndOrientation</span><span class="p">(</span><span class="nf">object_id</span><span class="p">)</span><span class="o">[</span><span class="n">0</span><span class="o">]</span>

<span class="w">    </span><span class="n">quats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">quats</span><span class="p">)</span>

<span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">quats</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">quat</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">quats</span><span class="p">:</span>

<span class="w">        </span><span class="n">start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">time</span><span class="p">.</span><span class="nc">time</span><span class="p">()</span>

<span class="w">        </span><span class="n">pybullet</span><span class="p">.</span><span class="n">resetBasePositionAndOrientation</span><span class="p">(</span><span class="nf">object_id</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">quat</span><span class="p">)</span>

<span class="w">        </span><span class="n">pybullet</span><span class="p">.</span><span class="n">stepSimulation</span><span class="p">()</span>

<span class="w">        </span><span class="n">elapsed_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">time</span><span class="p">.</span><span class="nc">time</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span>

<span class="w">        </span><span class="nc">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">elapsed_time</span><span class="p">))</span>
</code></pre></div>

</details>
<h3 id="get_viz_camera_params">get_viz_camera_params</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_viz_camera_params</span><span class="p">(</span>
    <span class="n">T_R2W</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">T_C2R</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span>
</code></pre></div>

<p>Calculates the debug visualizer camera position for a specified robot-frame camera view</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>T_R2W</td>
<td>np.ndarray</td>
<td>Robot to World transformation matrix, shape (4,4). This input is<br>equivalent to the current robot pose (just expressed in tmat form)</td>
<td>None</td>
</tr>
<tr>
<td>T_C2R</td>
<td>np.ndarray</td>
<td>Camera to Robot transformation matrix, shape (4, 4). This input dictates<br>the perspective from which we observe the robot. Defaults to the OBSERVATION_CAM constant</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tuple[float, float, float, np.ndarray]</td>
<td>float: Distance: The distance to the camera's focus point<br>float: Yaw: The rotation angle about the Z axis<br>float: Pitch: The angle of the camera as measured above/below the XY plane<br>np.ndarray: Target: The camera focus point in world coords. Shape (3,)</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">get_viz_camera_params</span><span class="p">(</span>

<span class="w">    </span><span class="n">T_R2W</span><span class="p">:</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="w"> </span><span class="n">T_C2R</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="p">[</span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the debug visualizer camera position for a specified robot-frame camera view</span>

<span class="sd">    Args:</span>

<span class="sd">        T_R2W (np.ndarray): Robot to World transformation matrix, shape (4,4). This input is</span>

<span class="sd">            equivalent to the current robot pose (just expressed in tmat form)</span>

<span class="sd">        T_C2R (np.ndarray, optional): Camera to Robot transformation matrix, shape (4, 4). This input dictates</span>

<span class="sd">            the perspective from which we observe the robot. Defaults to the OBSERVATION_CAM constant</span>

<span class="sd">    Returns:</span>

<span class="sd">        tuple[float, float, float, np.ndarray]:</span>

<span class="sd">            float: Distance: The distance to the camera&#39;s focus point</span>

<span class="sd">            float: Yaw: The rotation angle about the Z axis</span>

<span class="sd">            float: Pitch: The angle of the camera as measured above/below the XY plane</span>

<span class="sd">            np.ndarray: Target: The camera focus point in world coords. Shape (3,)</span>

<span class="sd">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">T_C2R</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">None</span><span class="p">:</span>

<span class="w">        </span><span class="n">T_C2R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OBSERVATION_CAM</span>

<span class="w">    </span><span class="n">R_R2W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_R2W</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="w">  </span><span class="c1"># Robot to world rotation matrix</span>

<span class="w">    </span><span class="n">robot_to_cam_robot_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_C2R</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>

<span class="w">    </span><span class="n">robot_to_cam_world_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">R_R2W</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">robot_to_cam_robot_pos</span>

<span class="w">    </span><span class="n">cam_to_robot_world_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">robot_to_cam_world_pos</span>

<span class="w">    </span><span class="c1"># Determine the direction the camera points via the vector from camera -&gt; robot origin in world frame</span>

<span class="w">    </span><span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="n">elevation</span><span class="p">,</span><span class="w"> </span><span class="n">azimuth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cartesian_to_spherical</span><span class="p">(</span><span class="n">cam_to_robot_world_pos</span><span class="p">)</span>

<span class="w">    </span><span class="c1"># Elevation is measured w.r.t +Z, so we need to change this to w.r.t the XY plane</span>

<span class="w">    </span><span class="c1"># Pybullet also works with the camera angle definitions in degrees, not radians</span>

<span class="w">    </span><span class="n">pitch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">elevation</span><span class="p">)</span>

<span class="w">    </span><span class="c1"># There seems to be a fixed -90 degree offset in how pybullet defines yaw (TODO test this)</span>

<span class="w">    </span><span class="n">yaw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">azimuth</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">90</span>

<span class="w">    </span><span class="n">robot_world_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_R2W</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>

<span class="w">    </span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_world_pos</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="n">yaw</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">,</span><span class="w"> </span><span class="n">target</span>
</code></pre></div>

</details>
<h3 id="remove_debug_objects">remove_debug_objects</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_debug_objects</span><span class="p">(</span>
    <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

<p>Removes user-created line(s)/point(s)/etc. from the Pybullet GUI</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>ids</td>
<td>int or list/array of ints</td>
<td>ID(s) of the objects loaded into Pybullet</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">remove_debug_objects</span><span class="p">(</span>

<span class="w">    </span><span class="nl">ids</span><span class="p">:</span><span class="w"> </span><span class="ow">Union</span><span class="o">[</span><span class="n">int, list[int</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">ndarray</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">None</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Removes user-created line(s)/point(s)/etc. from the Pybullet GUI</span>

<span class="ss">    Args:</span>

<span class="ss">        ids (int or list/array of ints): ID(s) of the objects loaded into Pybullet</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">ndim</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">iterable</span>

<span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="n">removeUserDebugItem</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">ids</span><span class="p">:</span>

<span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="n">removeUserDebugItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div>

</details>
<h3 id="visualize_frame">visualize_frame</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_frame</span><span class="p">(</span>
    <span class="n">tmat</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
</code></pre></div>

<p>Adds RGB XYZ axes to the Pybullet GUI for a speficied transformation/frame/pose</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>tmat</td>
<td>np.ndarray</td>
<td>Transformation matrix specifying a pose w.r.t world frame, shape (4, 4)</td>
<td>None</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>Length of the axis lines. Defaults to 1.</td>
<td>1</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</td>
<td>3</td>
</tr>
<tr>
<td>lifetime</td>
<td>float</td>
<td>Amount of time to keep the lines on the GUI, in seconds.<br>Defaults to 0 (keep them on-screen permanently until deleted)</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tuple[int, int, int]</td>
<td>Pybullet IDs of the three axis lines added to the GUI</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">visualize_frame</span><span class="p">(</span>

<span class="w">    </span><span class="nl">tmat</span><span class="p">:</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">ndarray</span><span class="p">,</span>

<span class="w">    </span><span class="nl">length</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>

<span class="w">    </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>

<span class="w">    </span><span class="nl">lifetime</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="o">[</span><span class="n">int, int, int</span><span class="o">]</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Adds RGB XYZ axes to the Pybullet GUI for a speficied transformation/frame/pose</span>

<span class="ss">    Args:</span>

<span class="ss">        tmat (np.ndarray): Transformation matrix specifying a pose w.r.t world frame, shape (4, 4)</span>

<span class="ss">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="ss">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="ss">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="ss">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    Returns:</span>

<span class="ss">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="n">x_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">1, 0, 0</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">R</span>

<span class="w">    </span><span class="n">y_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 1, 0</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">G</span>

<span class="w">    </span><span class="n">z_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 0, 1</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">B</span>

<span class="w">    </span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tmat</span><span class="o">[</span><span class="n">:3, 3</span><span class="o">]</span>

<span class="w">    </span><span class="n">x_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tmat</span><span class="o">[</span><span class="n">:3, 0</span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">y_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tmat</span><span class="o">[</span><span class="n">:3, 1</span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">z_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tmat</span><span class="o">[</span><span class="n">:3, 2</span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">x_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">x_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">x_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">)</span>

<span class="w">    </span><span class="n">y_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">y_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">y_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">)</span>

<span class="w">    </span><span class="n">z_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">z_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">z_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x_ax_id</span><span class="p">,</span><span class="w"> </span><span class="n">y_ax_id</span><span class="p">,</span><span class="w"> </span><span class="n">z_ax_id</span>
</code></pre></div>

</details>
<h3 id="visualize_link_frame">visualize_link_frame</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_link_frame</span><span class="p">(</span>
    <span class="n">robot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">link_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
</code></pre></div>

<p>Adds RGB XYZ axes to the Pybullet GUI for a specific link on the Astrobee</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>robot_id</td>
<td>int</td>
<td>Pybullet ID of the Astrobee</td>
<td>None</td>
</tr>
<tr>
<td>link_id</td>
<td>int</td>
<td>ID of the link we want to look at</td>
<td>None</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>Length of the axis lines. Defaults to 1.</td>
<td>1</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</td>
<td>3</td>
</tr>
<tr>
<td>lifetime</td>
<td>float</td>
<td>Amount of time to keep the lines on the GUI, in seconds.<br>Defaults to 0 (keep them on-screen permanently until deleted)</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tuple[int, int, int]</td>
<td>Pybullet IDs of the three axis lines added to the GUI</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">visualize_link_frame</span><span class="p">(</span>

<span class="w">    </span><span class="nl">robot_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span>

<span class="w">    </span><span class="nl">link_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span>

<span class="w">    </span><span class="nl">length</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>

<span class="w">    </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>

<span class="w">    </span><span class="nl">lifetime</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="o">[</span><span class="n">int, int, int</span><span class="o">]</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Adds RGB XYZ axes to the Pybullet GUI for a specific link on the Astrobee</span>

<span class="ss">    Args:</span>

<span class="ss">        robot_id (int): Pybullet ID of the Astrobee</span>

<span class="ss">        link_id (int): ID of the link we want to look at</span>

<span class="ss">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="ss">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="ss">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="ss">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    Returns:</span>

<span class="ss">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="n">x_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">1, 0, 0</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">R</span>

<span class="w">    </span><span class="n">y_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 1, 0</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">G</span>

<span class="w">    </span><span class="n">z_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 0, 1</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">B</span>

<span class="w">    </span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 0, 0</span><span class="o">]</span>

<span class="w">    </span><span class="n">x_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="k">array</span><span class="p">(</span><span class="o">[</span><span class="n">1, 0, 0</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">y_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="k">array</span><span class="p">(</span><span class="o">[</span><span class="n">0, 1, 0</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">z_endpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="k">array</span><span class="p">(</span><span class="o">[</span><span class="n">0, 0, 1</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">length</span>

<span class="w">    </span><span class="n">x_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

<span class="w">        </span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">x_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">x_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">,</span><span class="w"> </span><span class="n">robot_id</span><span class="p">,</span><span class="w"> </span><span class="n">link_id</span>

<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="n">y_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

<span class="w">        </span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">y_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">y_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">,</span><span class="w"> </span><span class="n">robot_id</span><span class="p">,</span><span class="w"> </span><span class="n">link_id</span>

<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="n">z_ax_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

<span class="w">        </span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">z_endpt</span><span class="p">,</span><span class="w"> </span><span class="n">z_color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">,</span><span class="w"> </span><span class="n">robot_id</span><span class="p">,</span><span class="w"> </span><span class="n">link_id</span>

<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x_ax_id</span><span class="p">,</span><span class="w"> </span><span class="n">y_ax_id</span><span class="p">,</span><span class="w"> </span><span class="n">z_ax_id</span>
</code></pre></div>

</details>
<h3 id="visualize_path">visualize_path</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_path</span><span class="p">(</span>
    <span class="n">positions</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</code></pre></div>

<p>Visualize a sequence of positions on the Pybullet GUI</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>positions</td>
<td>npt.ArrayLike</td>
<td>Sequence of positions, shape (n, 3)</td>
<td>None</td>
</tr>
<tr>
<td>n</td>
<td>Optional[int]</td>
<td>Number of lines to plot, if plotting the lines between all positions is not desired.<br>Defaults to None (plot all lines between positions)</td>
<td>None</td>
</tr>
<tr>
<td>color</td>
<td>npt.ArrayLike</td>
<td>RGB color values. Defaults to (1, 0, 0) (red).</td>
<td>(1, 0, 0) (red)</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>Width of the line. Defaults to 3 (pixels)</td>
<td>None</td>
</tr>
<tr>
<td>lifetime</td>
<td>float</td>
<td>Amount of time to keep the lines on the GUI, in seconds.<br>Defaults to 0 (keep them on-screen permanently until deleted)</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>list[int]</td>
<td>Pybullet IDs of the lines added to the GUI</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">visualize_path</span><span class="p">(</span>

<span class="w">    </span><span class="nl">positions</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="nl">n</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="w">    </span><span class="nl">color</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>

<span class="w">    </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>

<span class="w">    </span><span class="nl">lifetime</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">list</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Visualize a sequence of positions on the Pybullet GUI</span>

<span class="ss">    Args:</span>

<span class="ss">        positions (npt.ArrayLike): Sequence of positions, shape (n, 3)</span>

<span class="ss">        n (Optional[int]): Number of lines to plot, if plotting the lines between all positions is not desired.</span>

<span class="ss">            Defaults to None (plot all lines between positions)</span>

<span class="ss">        color (npt.ArrayLike, optional): RGB color values. Defaults to (1, 0, 0) (red).</span>

<span class="ss">        width (float, optional): Width of the line. Defaults to 3 (pixels)</span>

<span class="ss">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="ss">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    Returns:</span>

<span class="ss">        list[int]: Pybullet IDs of the lines added to the GUI</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="n">positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>

<span class="w">    </span><span class="n">n_positions</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">shape</span>

<span class="w">    </span><span class="n">assert</span><span class="w"> </span><span class="n">dim</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">desired</span><span class="p">,</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="n">evenly</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trajectory</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">plot</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subset</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nl">n_positions</span><span class="p">:</span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">indexing</span><span class="w"> </span><span class="n">ensures</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">plotted</span>

<span class="w">        </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n_positions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint</span><span class="o">=</span><span class="k">True</span><span class="p">)).</span><span class="n">astype</span><span class="p">(</span><span class="nc">int</span><span class="p">)</span>

<span class="w">        </span><span class="n">positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="o">[</span><span class="n">idx, :</span><span class="o">]</span>

<span class="w">    </span><span class="n">ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>

<span class="w">        </span><span class="n">ids</span><span class="p">.</span><span class="n">append</span><span class="p">(</span>

<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugLine</span><span class="p">(</span>

<span class="w">                </span><span class="n">positions</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">positions</span><span class="o">[</span><span class="n">i + 1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span>

<span class="w">            </span><span class="p">)</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ids</span>
</code></pre></div>

</details>
<h3 id="visualize_points">visualize_points</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_points</span><span class="p">(</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</code></pre></div>

<p>Adds square points to the GUI to visualize positions in the sim</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>position</td>
<td>npt.ArrayLike</td>
<td>3D point(s) in the simulation to visualize. Shape (n, 3)</td>
<td>None</td>
</tr>
<tr>
<td>color</td>
<td>npt.ArrayLike</td>
<td>RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,<br>or (n, 3) to individually specify the colors per-point</td>
<td>None</td>
</tr>
<tr>
<td>size</td>
<td>float</td>
<td>Size of the points on the GUI, in pixels. Defaults to 20</td>
<td>None</td>
</tr>
<tr>
<td>lifetime</td>
<td>float</td>
<td>Amount of time to keep the points on the GUI, in seconds.<br>Defaults to 0 (keep them on-screen permanently until deleted)</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>Pybullet object ID for the point / point cloud</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">visualize_points</span><span class="p">(</span>

<span class="w">    </span><span class="k">position</span><span class="err">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="nl">color</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="k">size</span><span class="err">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>

<span class="w">    </span><span class="nl">lifetime</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">int</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Adds square points to the GUI to visualize positions in the sim</span>

<span class="ss">    Args:</span>

<span class="ss">        position (npt.ArrayLike): 3D point(s) in the simulation to visualize. Shape (n, 3)</span>

<span class="ss">        color (npt.ArrayLike): RGB values, each in range [0, 1]. Shape (3,) if specifying the same color for all points,</span>

<span class="ss">            or (n, 3) to individually specify the colors per-point</span>

<span class="ss">        size (float): Size of the points on the GUI, in pixels. Defaults to 20</span>

<span class="ss">        lifetime (float, optional): Amount of time to keep the points on the GUI, in seconds.</span>

<span class="ss">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    Returns:</span>

<span class="ss">        int: Pybullet object ID for the point / point cloud</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pybullet</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">client</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">Pybullet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">crash</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">visualize</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">packing</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">2</span><span class="n">D</span><span class="w"> </span><span class="k">array</span>

<span class="w">    </span><span class="k">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="k">position</span><span class="p">)</span>

<span class="w">    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">position</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">-1</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>

<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">            </span><span class="n">f</span><span class="ss">&quot;Invalid shape of the point positions. Expected (n, 3), got: {position.shape}&quot;</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">-1</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>

<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">            </span><span class="n">f</span><span class="ss">&quot;Invalid shape of the colors. Expected (n, 3), got: {color.shape}&quot;</span>

<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">position</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nl">n</span><span class="p">:</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">color</span><span class="p">.</span><span class="n">shape</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="k">Map</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">points</span>

<span class="w">            </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">ones_like</span><span class="p">(</span><span class="k">position</span><span class="p">)</span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span>

<span class="w">            </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>

<span class="w">                </span><span class="n">f</span><span class="ss">&quot;Number of colors ({color.shape[0]}) does not match the number of points ({n}).&quot;</span>

<span class="w">            </span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="n">addUserDebugPoints</span><span class="p">(</span><span class="k">position</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">)</span>
</code></pre></div>

</details>
<h3 id="visualize_quaternion">visualize_quaternion</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_quaternion</span><span class="p">(</span>
    <span class="n">quat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_array_like</span><span class="o">.</span><span class="n">_SupportsArray</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">_typing</span><span class="o">.</span><span class="n">_nested_sequence</span><span class="o">.</span><span class="n">_NestedSequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]],</span>
    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pybullet_utils</span><span class="o">.</span><span class="n">bullet_client</span><span class="o">.</span><span class="n">BulletClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
</code></pre></div>

<p>Wrapper around visualize_frame specifically for debugging quaternions. Shows the rotated frame at the origin</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>quat</td>
<td>npt.ArrayLike</td>
<td>XYZW quaternion, shape (4,)</td>
<td>None</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>Length of the axis lines. Defaults to 1.</td>
<td>1</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</td>
<td>3</td>
</tr>
<tr>
<td>lifetime</td>
<td>float</td>
<td>Amount of time to keep the lines on the GUI, in seconds.<br>Defaults to 0 (keep them on-screen permanently until deleted)</td>
<td>None</td>
</tr>
<tr>
<td>client</td>
<td>BulletClient</td>
<td>If connecting to multiple physics servers, include the client<br>(the class instance, not just the ID) here. Defaults to None (use default connected client)</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tuple[int, int, int]</td>
<td>Pybullet IDs of the three axis lines added to the GUI</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">visualize_quaternion</span><span class="p">(</span>

<span class="w">    </span><span class="nl">quat</span><span class="p">:</span><span class="w"> </span><span class="n">npt</span><span class="p">.</span><span class="n">ArrayLike</span><span class="p">,</span>

<span class="w">    </span><span class="nl">length</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>

<span class="w">    </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>

<span class="w">    </span><span class="nl">lifetime</span><span class="p">:</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>

<span class="w">    </span><span class="nl">client</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">BulletClient</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span>

<span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="o">[</span><span class="n">int, int, int</span><span class="o">]</span><span class="err">:</span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Wrapper around visualize_frame specifically for debugging quaternions. Shows the rotated frame at the origin</span>

<span class="ss">    Args:</span>

<span class="ss">        quat (npt.ArrayLike): XYZW quaternion, shape (4,)</span>

<span class="ss">        length (float, optional): Length of the axis lines. Defaults to 1.</span>

<span class="ss">        width (float, optional): Width of the axis lines. Defaults to 3. (units unknown, maybe mm?)</span>

<span class="ss">        lifetime (float, optional): Amount of time to keep the lines on the GUI, in seconds.</span>

<span class="ss">            Defaults to 0 (keep them on-screen permanently until deleted)</span>

<span class="ss">        client (BulletClient, optional): If connecting to multiple physics servers, include the client</span>

<span class="ss">            (the class instance, not just the ID) here. Defaults to None (use default connected client)</span>

<span class="ss">    Returns:</span>

<span class="ss">        tuple[int, int, int]: Pybullet IDs of the three axis lines added to the GUI</span>

<span class="ss">    &quot;&quot;&quot;</span>

<span class="w">    </span><span class="n">rmat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">quat_to_rmat</span><span class="p">(</span><span class="n">quat</span><span class="p">)</span>

<span class="w">    </span><span class="n">tmat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_transform_mat</span><span class="p">(</span><span class="n">rmat</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">0, 0, 0</span><span class="o">]</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">visualize_frame</span><span class="p">(</span><span class="n">tmat</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">lifetime</span><span class="p">,</span><span class="w"> </span><span class="n">client</span><span class="p">)</span>
</code></pre></div>

</details>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        
<footer class="md-footer">
    
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../coordinates/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Coordinates" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Previous
                </span>
                Coordinates
              </div>
            </div>
          </a>
        
        
          
          <a href="../dynamics/" class="md-footer__link md-footer__link--next" aria-label="Next: Dynamics" rel="next">
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Next
                </span>
                Dynamics
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
            
            Powered by
            <a href="http://timothycrosley.github.io/portray">portray.</a>
            You too can
            <a href="http://timothycrosley.github.io/portray">
              portray</a>
            your Python project well using automatic documentation.
          </div>
        
      </div>
    </div>
  </footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>